{% comment %}
  Automated internal link to the main Mattresses collections page.
  Uses a variety of text and anchor links for better SEO diversity.
{% endcomment %}

{% assign target_collection_handle = 'all-mattresses' %}
{% assign target_collection_found = false %}

{% for collection in product.collections %}
  {% if collection.handle == target_collection_handle %}
    {% assign target_collection_found = true %}
    {% assign collection_url = collection.url %}
    {% break %}
  {% endif %}
{% endfor %}

{% if target_collection_found %}
  {% comment %} Define our array of different link phrases {% endcomment %}
  {% assign link_options = "
    <p>Looking for more options? Browse our full selection of <a href='[LINK_URL]'>mattresses</a>.</p>|
    <p>Explore all of our <a href='[LINK_URL]'>mattress</a> models in our online collection.</p>|
    <p>This product is part of our comprehensive line of <a href='[LINK_URL]'>mattresses</a>. Find your perfect fit today.</p>|
    <p>See our top-rated <a href='[LINK_URL]'>mattress</a> options and compare them in our main collection.</p>" | split: '|' %}

  {% comment %}
    Use a pseudo-random selection based on the product's ID to ensure a different
    option is chosen for each product.
  {% endcomment %}
  {% assign option_index = product.id | modulo: link_options.size %}
  {% assign selected_option = link_options[option_index] %}
  
  {% comment %} Replace the placeholder with the actual URL {% endcomment %}
  <div class="product__collection-link-wrapper">
    {{ selected_option | replace: '[LINK_URL]', collection_url }}
  </div>
{% endif %}
