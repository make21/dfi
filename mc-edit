{% comment %}
  Automated internal link to the Divan Beds collections page.
  Uses a variety of text and anchor links for better SEO diversity.
{% endcomment %}

{% assign target_collection_handle = 'divan-beds' %}
{% assign target_collection_found = false %}

{% for collection in product.collections %}
  {% if collection.handle == target_collection_handle %}
    {% assign target_collection_found = true %}
    {% assign collection_url = collection.url %}
    {% break %}
  {% endif %}
{% endfor %}

{% if target_collection_found %}
  {% comment %} Define our array of different link phrases {% endcomment %}
  {% assign link_options = "
    <p>Looking for a new bed? Browse our complete range of <a href='[LINK_URL]'>divan beds</a>.</p>|
    <p>Explore all of our stylish <a href='[LINK_URL]'>divan bed</a> options in our online collection.</p>|
    <p>This product is part of our comprehensive line of <a href='[LINK_URL]'>divan beds</a>. Check out our collection to find your perfect divan today.</p>|
    <p>See our full range of <a href='[LINK_URL]'>divan bed</a> options in our main collection.</p>" | split: '|' %}

  {% comment %}
    Use a pseudo-random selection based on the product's ID to ensure a different
    option is chosen for each product.
  {% endcomment %}
  {% assign option_index = product.id | modulo: link_options.size %}
  {% assign selected_option = link_options[option_index] %}
  
  {% comment %} Replace the placeholder with the actual URL {% endcomment %}
  <div class="product__collection-link-wrapper">
    {{ selected_option | replace: '[LINK_URL]', collection_url }}
  </div>
{% endif %}
